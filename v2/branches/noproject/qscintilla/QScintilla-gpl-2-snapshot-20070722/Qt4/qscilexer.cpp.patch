4c4
< // 	Riverbank Computing Limited <info@riverbankcomputing.co.uk>
---
> //     Riverbank Computing Limited <info@riverbankcomputing.co.uk>
323a324
>     QVariant varfont;
403c404,410
<     full_key = key + "autoindentstyle";
---
>     full_key = key + "defaultpaper";
>     ok = qs.contains(full_key);
>     num = qs.value(full_key).toInt();
>     if (ok)
>         setDefaultPaper(QColor((num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff));
>     else
>         rc = false;
404a412,430
>     full_key = key + "defaultcolor";
>     ok = qs.contains(full_key);
>     num = qs.value(full_key).toInt();
>     if (ok)
>         setDefaultColor(QColor((num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff));
>     else
>         rc = false;
> 
>     full_key = key + "defaultfont";
>     ok = qs.contains(full_key);
>     if (ok)
>     {
>         varfont = qs.value(full_key);
>         setDefaultFont(varfont.value<QFont>());
>     }
>     else
>         rc = false;
> 
>     full_key = key + "autoindentstyle";
420a447
>     int num;
421a449
>     QVariant varfont;
432d459
<         int num;
478a506,514
>     num = (defPaper.red() << 16) | (defPaper.green() << 8) | defPaper.blue();
>     qs.setValue(key + "defaultpaper",num);
>     
>     num = (defColor.red() << 16) | (defColor.green() << 8) | defColor.blue();
>     qs.setValue(key + "defaultcolor", num);
>     
>     varfont = defFont;
>     qs.setValue(key + "defaultfont", varfont);
>     
